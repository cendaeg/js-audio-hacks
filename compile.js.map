{"version":3,"sources":["audio.es6","markov.es6","main.es6"],"names":[],"mappings":"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AAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;;AAE1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;;AAE1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;;AAE1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;;AAE1B,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAA;AAC1B,YAAY,CAAC,GA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","file":"compile.js","sourcesContent":["function freq(note) {\n  return (Math.pow(2, (note.key-49)/12)*440)/note.octave;\n};\n\n\nclass Instrument {\n  constructor(t) {\n    this.tau = 2 * Math.PI;\n    this.t = t;\n  }\n  sin(x) {\n    return Math.sin(this.tau * this.t * x);\n  };\n  square (x) {return sin(x) > 0 ? 1 : -1 };\n  saw (x) { return 1-2*(this.t%(1/x))*x };\n  drums() { return this.t % (1/2) < 1/16 ? 2*Math.random()-1 : 0 };\n  bass(x) { return this.t % (1) < 1/4 ? Math.sin((this.tau * this.t * x)) : 0 };\n  lowDrums(x) { return this.t % (1/2) < 1/16 ? 10*Math.cos((this.tau * this.t * x)) : 0 };\n  pluck(freq, a, n, s) {\n    var scalar = Math.max(0, 0.95 - ((this.t % a) * n) / (((this.t % a) * n) + 1));\n    var sum = 0;\n    for (var i = 0; i < s; i++) {\n      sum += Math.sin(this.tau * (this.t % a) * (freq + i * freq));\n    }\n    return scalar * sum / 3;\n  };\n  uku(freq, a, n, s) {\n    var scalar = Math.max(0, 0.95 - ((this.t % a) * n) / (((this.t % a) * n) + 0.5));\n    var sum = 0;\n    for (var i = 0; i < s; i++) {\n      sum += Math.sin(this.tau * (this.t % a) * (freq + i * freq));\n    }\n    return scalar * sum / 3;\n  };\n}\n\n\nclass Note {\n  constructor(key, dur) {\n    var noteMap = {C:4, D:6, E:8, F:9, G:11, A:13, B:15};\n    var octaveMap = {\n      1: 1,\n      2: 1/2,\n      3: 1/4,\n      4: 1/8,\n      5: 1/16,\n      6: 1/32,\n      7: 1/64,\n      8: 1/128\n    }\n    var note = {\n      key: noteMap[key[0]],\n      octave: octaveMap[key[1]]\n    };\n    this.freq = freq(note);\n    this.duration = dur;\n  }\n}\n\nvar ctx = new AudioContext();\n\nclass Waver {\n  constructor(ctx, dur, cb) {\n    var channels = 2;\n    var frameCount = ctx.sampleRate * dur;\n    this.sourceBuffer = ctx.createBuffer(channels, frameCount, ctx.sampleRate);\n    for (var channel = 0; channel < channels; channel++) {\n      var nowBuffering = this.sourceBuffer.getChannelData(channel);\n      for (var i = 0; i < this.sourceBuffer.length; i++) {\n        nowBuffering[i] = cb(i/ctx.sampleRate);\n      }\n    }\n  }\n  update(ctx, dur, cb) {\n    var channels = 2;\n    var frameCount = ctx.sampleRate * dur;\n    this.sourceBuffer = ctx.createBuffer(channels, frameCount, ctx.sampleRate);\n    for (var channel = 0; channel < channels; channel++) {\n      var nowBuffering = this.sourceBuffer.getChannelData(channel);\n      for (var i = 0; i < this.sourceBuffer.length; i++) {\n        nowBuffering[i] = cb(i/ctx.sampleRate);\n      }\n    }\n  }\n}","function sum(...terms) {\n  return terms.reduce((a , b) => { return a+b });\n}\n\n\nclass MusicMatrix {\n  constructor() {\n    this._previous_note = null\n    this._markov = MarkovBuilder([\"a\", \"a#\", \"b\", \"c\", \"c#\", \"d\", \"d#\", \"e\", \"f\", \"f#\", \"g\", \"g#\"])\n    this._timings = MarkovBuilder([1, 2, 4, 8, 16])\n  }\n  add(to_note) {\n    if(this._previous_note===null) {\n      this._previous_note = to_note;\n      return true;\n    }\n    from_note = self._previous_note;\n    this._markov.add(from_note[0], to_note[0]);\n    this._timings.add(from_note[1], to_note[1]);\n    this._previous_note = to_note;\n  }\n  next_note(from_note) {\n    return [this._markov.next_value(from_note[0]), this._timings.next_value(from_note[1])];\n  }\n}\n\nconsole.log(\"Here\");\n\nclass MarkovBuilder {\n  constructor(value_list) {\n    this._values_added = 0;\n    this._reverse_value_lookup = value_list;\n    this._value_lookup = {};\n    for (var i = 0; i < value_list.length; i++) {\n      this._value_lookup[value_list[i]] = i;\n    }\n    this._matrix = [];\n    for(var i = 0; i < value_list.length; i++) {\n      this._matrix[i] = [];\n      for(var j = 0; j < value_list.length; j++) {\n        this._matrix[i][j] = 0;\n      }\n    }\n  }\n  add(from_value, to_value){\n    //Add a path from a note to another note. Re-adding a path between notes will increase the associated weight.\n    var value = this._value_lookup\n    this._matrix[value[from_value]][value[to_value]] += 1\n    this._values_added = this._values_added + 1\n  }\n  next_value(from_value) {\n    var value = this._value_lookup[from_value]\n    var value_counts = this._matrix[value]\n    var value_index = this.randomly_choose(value_counts)\n    if(value_index < 0) {\n      throw \"Non-existent value selected.\"\n    } else {\n      return this._reverse_value_lookup[value_index]\n    }\n  }\n  randomly_choose(choice_counts) {\n    //Given an array of counts, returns the index that was randomly chosen\n    var counted_sum = 0;\n    var count_sum = sum(choice_counts);\n    selected_count = (Math.random() * (count_sum - 1) + 1);\n    for (var i=0;i<choice_counts.len;i++) {\n      counted_sum += choice_counts[i];\n      if(counted_sum >= selected_count) {\n        return i\n      }\n    }\n    throw \"Impossible value selection made. BAD!\"\n  }\n}\n\nconsole.log(\"Here2\");\n\nvar musicLearner = new MusicMatrix();\n\nmusicLearner.add([\"c\", 4])\nmusicLearner.add([\"c\", 4])\nmusicLearner.add([\"c\", 4])\nmusicLearner.add([\"d\", 8])\nmusicLearner.add([\"e\", 4])\nmusicLearner.add([\"e\", 4])\nmusicLearner.add([\"d\", 8])\nmusicLearner.add([\"e\", 4])\nmusicLearner.add([\"f\", 8])\nmusicLearner.add([\"g\", 2])\n\nmusicLearner.add([\"c\", 8])\nmusicLearner.add([\"c\", 8])\nmusicLearner.add([\"c\", 8])\n\nmusicLearner.add([\"g\", 8])\nmusicLearner.add([\"g\", 8])\nmusicLearner.add([\"g\", 8])\n\nmusicLearner.add([\"e\", 8])\nmusicLearner.add([\"e\", 8])\nmusicLearner.add([\"e\", 8])\n\nmusicLearner.add([\"c\", 8])\nmusicLearner.add([\"c\", 8])\nmusicLearner.add([\"c\", 8])\n\nmusicLearner.add([\"g\", 4])\nmusicLearner.add([\"f\", 8])\nmusicLearner.add([\"e\", 4])\nmusicLearner.add([\"d\", 8])\nmusicLearner.add([\"c\", 2])\n\nvar random_score = []\ncurrent_note = [\"c\", 4]\nfor(var i = 0;i < 100; i++) {\n  console.log(current_note[0] + \", \" + current_note[1].toString());\n  var current_note = musicLearner.next_note(current_note);\n  random_score.push(current_note);\n}\n\nconsole.log(random_score);","var melody = [0, 1/2, 1/4, 1/2, 1/8, 1/4, 1/5, 1/16, 10/13, 0, 1/2, 1/4, 1/2, 1/8, 1/4, 1/5, 1/16, 10/13, 0, 1/2, 1/4, 1/2, 1/8, 1/4, 1/5, 1/16, 10/13]\n.map(function(x) { return Math.pow(2, x) });\n\nvar bassMelody = [0, 1/2, 1/4, 1/8, 1/16, 1/8, 1/4, 1/2]\n.map(function(x) { return Math.pow(2, x) });\n\nvar node = new Waver(ctx, 8.0, function(t) {\n  var i = new Instrument(t);\n  var note = new Note(\"A4\");\n  var note2 = new Note(\"A5\");\n  var note3 = new Note(\"E5\");\n  var m = melody[Math.floor((t) % melody.length)];\n  var bm = bassMelody[Math.floor((t) % melody.length)];\n  return i.pluck(note.freq, 0.5, 10, 10) + i.bass(100);\n});\n\nvar source = ctx.createBufferSource();\nsource.buffer = node.sourceBuffer;\nsource.connect(ctx.destination);\nsource.loop = true;\n\nvar b = document.querySelector(\".start\");\nvar on = false;\n\n\nb.addEventListener('click', function() {\n  if(!on) {\n    source.start();\n    on = true;\n  } else {\n    on = false;\n    source.stop();\n  }\n});\n\nsetTimeout(function() {\n  node.update(ctx, 8.0, function(t) {\n    var i = new Instrument(t);\n    var note = new Note(\"G4\");\n    var note2 = new Note(\"G5\");\n    var note3 = new Note(\"C5\");\n    var m = melody[Math.floor((t) % melody.length)];\n    var bm = bassMelody[Math.floor((t) % melody.length)];\n    return i.pluck(note.freq, 0.5, 10, 10) + i.bass(150);\n  });\n}, 3000);"]}